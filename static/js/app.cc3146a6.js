(function(t){function e(e){for(var i,a,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},r={app:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"3fcd":function(t,e,s){"use strict";var i=s("aa15"),r=s.n(i);r.a},"4e38":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("2dd8"),s("4989");var i=s("2b0e"),r=s("5f5b"),n=s("3a6f"),a=s.n(n),o=(s("d48d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex container-fluid flex-column min-vh-100",attrs:{id:"app"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col p-0"},[s("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-light"},[s("router-link",{staticClass:"navbar-brand mb-0 h1",attrs:{to:"/"}},[t._v("Reggie")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/tutorial"}},[t._v("Tutorial")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/progress"}},[t._v("Progress")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/playground"}},[t._v("Playground")])],1)])])],1)])]),s("router-view")],1)}),l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],c={name:"App",components:{},mounted:function(){}},u=c,d=(s("5c0b"),s("2877")),p=Object(d["a"])(u,o,l,!1,null,null,null),h=p.exports,g=s("8c4f"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row flex-grow-1 height-75 debug2",attrs:{id:"homeComponent"}},[s("div",{staticClass:"container align-items-center h-100 debug"},[s("div",{staticClass:"row justify-content-center h-100 align-items-center debug2"},[t._m(0),s("div",{staticClass:"col-auto"},[s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/tutorial"}},[t._v("Tutorial")])],1),s("div",{staticClass:"col-auto"},[s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/progress"}},[t._v("Challenges")])],1)])])])},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 text-center"},[s("h6",[t._v("Learn about computers by solving challenges on a register machine")])])}],m={name:"Home",mounted:function(){},data:function(){return{}}},b=m,C=Object(d["a"])(b,v,f,!1,null,null,null),_=C.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row debug"},[s("div",{staticClass:"container-fluid"},[t._m(0),s("div",{staticClass:"row"},t._l(t.programs,(function(e){return s("div",{key:e.id,staticClass:"col-sm-6 py-1"},[s("div",{staticClass:"card"},[s("router-link",{staticClass:"card-body cardHover",attrs:{to:t.challengeRoute(e)}},[s("h5",{staticClass:"card-title"},[t._v(" "+t._s(e.id)+". "+t._s(e.title)+" "),"pass"===t.challengeSolved(e.id)?s("check-circle-outline-icon",{staticClass:"text-success"}):"fail"===t.challengeSolved(e.id)?s("alert-circle-outline-icon",{staticClass:"text-danger"}):t._e()],1)])],1)])})),0)])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("h1",{staticClass:"p-4"},[t._v("Challenges")])])}],T=(s("7db0"),s("bc3a")),S=s.n(T),x=s("a78e"),I=s.n(x),k=S.a.create({baseURL:"/api",timeout:5e3,headers:{"Content-Type":"application/json","X-CSRFToken":I.a.get("csrftoken")}}),O=s("cc28"),R=s("6f7c"),P={name:"Challenges",components:{CheckCircleOutlineIcon:O["a"],AlertCircleOutlineIcon:R["a"]},data:function(){return{programs:[],isHovering:!1}},methods:{updateChallengeList:function(t){var e=this;this.id=t,k.get("progress/").then((function(t){e.response=t,e.programs=e.response.data}))},challengeRoute:function(t){return"/challenge/".concat(t.id)},challengeSolved:function(t){var e=this.challengeData.find((function(e){return e.id==t}));if(e){if(e.solved)return"pass";if(!1===e.solved)return"fail"}return"unattempted"}},mounted:function(){this.updateChallengeList(),this.challengeData=JSON.parse(localStorage.challenges).data}},j=P,$=Object(d["a"])(j,y,w,!1,null,"6f74fd22",null),E=$.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row debug"},[s("div",{staticClass:"container"},[t._m(0),t._m(1),s("div",{staticClass:"row"},[s("div",{staticClass:"container-fluid",attrs:{id:"controls"}},[t._m(2),s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col"},[t.running?s("button",{staticClass:"btn btn-primary",on:{click:t.pauseRegMachine}},[t._v("Pause")]):s("button",{staticClass:"btn btn-primary",on:{click:t.runRegMachine}},[t._v("Run")]),s("button",{staticClass:"btn btn-primary",attrs:{id:"btnStep"},on:{click:t.stepRegMachine}},[t._v("Step")]),s("button",{staticClass:"btn btn-primary",on:{click:t.resetProgram}},[t._v("Reset")])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-lg",attrs:{id:"program"}},[s("div",{staticClass:"container-fluid"},[t._m(3),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("program",{attrs:{program:t.program,"current-step-id":t.currentStepId,fields:t.fields,"program-options":t.programOptions,instructions:t.instructions}})],1)])])]),s("div",{staticClass:"col-12 col-lg"},[s("div",{staticClass:"container-fluid",attrs:{id:"registers"}},[s("div",{staticClass:"row justify-content-between"},[t._m(4),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary",on:{click:t.resetRegisters}},[t._v("Zero")])])]),s("div",{staticClass:"row"},t._l(t.registers,(function(t,e){return s("register",{key:e,attrs:{"reg-value":t.value,"reg-id":t.id},on:{"update:reg-value":function(e){t.value=e}}})})),1)])])])])])},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-between align-items-center",attrs:{id:"probStatement"}},[s("div",{staticClass:"col"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",[t._v("Controls")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col-auto"},[s("h4",[t._v("Program")])]),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary"},[t._v("Save")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("h4",[t._v("Registers")])])}],N={name:"Playground",data:function(){return{program:[{id:1,instruction:"end",register:null,goTo:null,branchTo:null,editable:!0,editMode:!1}],registers:[{id:1,value:0},{id:2,value:0},{id:3,value:0},{id:4,value:0}],instructions:[{instruction:"inc",description:"Increment register",fields:["instruction","register","goTo"]},{instruction:"deb",description:"Decrement register or branch",fields:["instruction","register","goTo","branchTo"]},{instruction:"end",description:"End",fields:["instruction"]}],currentStepId:1,running:!1,testID:null,rmInterval:null,fields:[{field:"instruction",options:[],optionObject:"instructions",optionField:"instruction"},{field:"register",options:[],optionObject:"registers",optionField:"id"},{field:"goTo",options:[],optionObject:"program",optionField:"id"},{field:"branchTo",options:[],optionObject:"program",optionField:"id"}],programOptions:[]}}},F=N,L=Object(d["a"])(F,M,D,!1,null,"2f326397",null),V=L.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row debug",on:{click:t.challengeClicked}},[s("div",{staticClass:"container debug2"},[s("div",{staticClass:"row"},[t.solved?s("div",{staticClass:"col alert alert-success",attrs:{role:"alert"}},[t._v(" Great work! You solved this challenge. "),s("router-link",{staticClass:"btn btn-success",attrs:{to:t.nextChallengeRoute()}},[t._v("Next challenge")])],1):null!==t.solved&&!1===t.solved?s("div",{staticClass:"col alert alert-danger",attrs:{role:"alert"}},[t._v(" Uh oh! It looks like your program didn't pass the tests. Give it another go. "),""!==t.hint?s("div",[s("button",{staticClass:"btn btn-danger",attrs:{"data-toggle":"collapse","data-target":"#hintText"}},[t._v("Hint")]),s("div",{staticClass:"collapse",attrs:{id:"hintText"}},[s("div",{staticClass:"card card-body"},[s("span",{domProps:{innerHTML:t._s(t.hint)}})])])]):t._e()]):t._e()]),s("div",{staticClass:"row justify-content-between align-items-center",attrs:{id:"probStatement"}},[s("div",{staticClass:"col col-md-6"},[s("h1",[t._v(t._s(t.$route.params.id)+". "+t._s(t.title))])]),s("div",{staticClass:"col-auto"},[s("b-button",{staticClass:"align-middle",attrs:{variant:"primary",type:"button"},on:{click:t.resetChallenge}},[t._v("Reset challenge")]),s("b-button",{staticClass:"align-middle m-1",attrs:{variant:"primary",type:"button","data-toggle":"collapse","data-target":"#probText"},on:{click:t.toggleStatement}},[t.statementCollapsed?s("span",[s("unfold-more-horizontal-icon")],1):s("span",[s("unfold-less-horizontal-icon")],1)])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{ref:"probText",staticClass:"collapse show",attrs:{id:"probText"}},[s("div",{staticClass:"card card-body"},[s("span",{domProps:{innerHTML:t._s(t.statement)}})])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"container",attrs:{id:"controls"}},[t._m(0),s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col"},[t.running?s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"m-1",attrs:{variant:"primary",title:"Pause the register machine"},on:{click:t.pauseRegMachine}},[t._v("Pause")]):s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"m-1",attrs:{title:"Run to completion",variant:"primary"},on:{click:t.runRegMachine}},[t._v("Run")]),s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"m-1",attrs:{variant:"primary",id:"btnStep",title:"Execute the next step"},on:{click:t.stepRegMachine}},[t._v("Step")]),s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"m-1",attrs:{variant:"primary",title:"Return to first step"},on:{click:t.resetProgram}},[t._v("Reset")])],1)])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-lg",attrs:{id:"program"}},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row justify-content-between"},[t._m(1),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary",on:{click:t.persist}},[t._v("Save")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("program",{attrs:{program:t.program,"current-step-id":t.currentStepId,fields:t.fields,"program-options":t.programOptions,instructions:t.instructions}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("programGraph",{attrs:{program:t.program,"current-step-id":t.currentStepId}})],1)])])]),s("div",{staticClass:"col-12 col-lg"},[s("div",{staticClass:"container-fluid",attrs:{id:"registers"}},[s("div",{staticClass:"row justify-content-between"},[t._m(2),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary",on:{click:t.resetRegisters}},[t._v("Zero")])])]),s("div",{staticClass:"row"},t._l(t.registers,(function(t,e){return s("register",{key:e,attrs:{"reg-value":t.value,"reg-id":t.id},on:{"update:reg-value":function(e){t.value=e}}})})),1)]),s("tests",{attrs:{tests:t.tests,"curr-test":t.testID}})],1)])])])},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",[t._v("Controls")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("h4",[t._v("Program")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("h4",[t._v("Registers")])])}],H=(s("c740"),s("4160"),s("d81d"),s("fb6a"),s("e25e"),s("159b"),new i["default"]),J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid px-0"},[s("div",{staticClass:"row"},[s("table",{staticClass:"table mb-0",attrs:{id:"tabProgram"}},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Step")]),s("th",{attrs:{scope:"col",id:"btnInst"}},[t._v("Instruction "),s("information-outline-icon")],1),s("th",{attrs:{scope:"col"}},[t._v("Register")]),s("th",{attrs:{scope:"col"}},[t._v("Go to")]),s("th",{attrs:{scope:"col"}},[t._v("Branch to")])])]),s("tbody",t._l(t.program,(function(e,i){return s("ProgramStep",{key:i,attrs:{"prog-step":e,"edit-mode":!1,"curr-step-id":t.currentStepId,fields:t.fields,instructions:t.instructions}})})),1)]),s("b-tooltip",{attrs:{target:"btnInst",placement:"bottom",triggers:"hover"}},[s("p",[s("b",[t._v("inc:")]),t._v(" Increment register value")]),s("p",[s("b",[t._v("deb:")]),t._v(" Decrement/branch. If register value > 0, decrement register value. If register value = 0, branch.")]),s("p",[s("b",[t._v("end:")]),t._v(" Halt register machine")])])],1),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-3"},[s("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-primary",attrs:{id:"btnRem"},on:{click:function(e){return e.stopPropagation(),t.removeStep(e)}}},[t._v(" - ")]),s("button",{staticClass:"btn btn-outline-primary",on:{click:t.addStep}},[t._v(" + ")])])]),s("b-tooltip",{ref:"tooltipRemStep",attrs:{show:t.showTooltipRemStep,variant:"warning",target:"btnRem",placement:"top",triggers:"manual"},on:{"update:show":function(e){t.showTooltipRemStep=e}}},[t._v(" Cannot remove the last step as it is referenced by other steps. ")])],1)])},B=[],U=(s("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{class:{currStep:t.step.id===t.currStepId,clickable:t.step.editable},on:{click:function(e){return t.toggleEdit(t.step.editable)}}},[s("td",{attrs:{scope:"row"}},[t._v(" "+t._s(t.step.id)+" "),t.step.editable&&!t.step.editMode?s("pencil-icon",{staticClass:"text-primary"}):t._e(),t.step.editable&&t.step.editMode?s("pencil-off-icon",{staticClass:"text-primary"}):t._e()],1),t._l(t.fields,(function(e,i){return s("dropdown",{key:i,attrs:{editMode:t.step.editMode,field:e,value:t.step[e.field],options:e.options,id:t.step.id,instruction:t.step.instruction,instructions:t.instructions}})}))],2)}),q=[],z=s("d902"),Y=s("575f"),W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[t.editMode&&this.isEditableField()?s("span",[s("select",{staticClass:"form-control",on:{click:function(e){return e.stopPropagation(),t.clickEvent(e)},change:function(e){return t.progValSel(e)}}},t._l(t.options,(function(e,i){return s("option",{key:i,domProps:{selected:e===t.value,value:i}},[t._v(" "+t._s(e)+" ")])})),0)]):s("span",[t._v(t._s(t.value))])])},Z=[],X={name:"Dropdown",props:{editMode:Boolean,field:Object,options:Array,value:{type:[Number,String]},instruction:String,instructions:Array,id:Number},data:function(){return{}},methods:{isEditableField:function(){var t=this,e=this.instructions.find((function(e){return e.instruction===t.instruction}));return!!e.fields.find((function(e){return e===t.field.field}))},progValSel:function(t){H.$emit("prog-value-sel",{id:this.id,field:this.field.field,value:this.options[t.target.value]})},clickEvent:function(){}}},K=X,Q=Object(d["a"])(K,W,Z,!1,null,"4e9ed77a",null),tt=Q.exports,et={name:"ProgramStep",components:{PencilIcon:z["a"],PencilOffIcon:Y["a"],Dropdown:tt},props:{progStep:Object,stepOptions:Array,currStepId:Number,fields:Array,instructions:Array},data:function(){return{step:this.progStep}},methods:{toggleEdit:function(t){t&&H.$emit("toggle-edit",this.step.id)}}},st=et,it=Object(d["a"])(st,U,q,!1,null,"391ef283",null),rt=it.exports,nt=s("a54d"),at={name:"Program",props:{program:Array,fields:Array,currentStepId:Number,instructions:Array},methods:{addStep:function(){H.$emit("add-step")},removeStep:function(){H.$emit("remove-step")},removeStepFail:function(){this.showTooltipRemStep=!0}},mounted:function(){var t=this;H.$on("program-cannot-remove-step",(function(){t.removeStepFail()})),H.$on("challenge-click",(function(){t.showTooltipRemStep=!1}))},components:{ProgramStep:rt,InformationOutlineIcon:nt["a"]},data:function(){return{showTooltipRemStep:!1}}},ot=at,lt=Object(d["a"])(ot,J,B,!1,null,"1b33a984",null),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("div",{staticClass:"container group"},[s("div",{staticClass:"regHeading row justify-content-center"},[s("div",{staticClass:"col text-center"},[t._v(t._s(t.regId))])]),s("div",{staticClass:"regContent row justify-content-center"},[s("div",{staticClass:"col text-center"},[s("h2",[t._v(t._s(t.value))])])]),s("div",{staticClass:"regFooter row"},[s("div",{staticClass:"col btn-group btn-group-sm",attrs:{role:"group"}},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.decReg}},[t._v("-")]),s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.incReg}},[t._v("+")])])])])])},dt=[],pt={name:"Register",props:{regId:Number,regValue:Number},data:function(){return{value:this.regValue}},methods:{decReg:function(){this.value&&this.value--},incReg:function(){this.value++}},watch:{value:function(){this.$emit("update:reg-value",this.value)},regValue:function(){this.value=this.regValue}}},ht=pt,gt=Object(d["a"])(ht,ut,dt,!1,null,"96dd13fe",null),vt=gt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid tests"},[s("div",{staticClass:"row justify-content-between"},[t._m(0),s("div",{staticClass:"col-auto"},[null===t.currTest?s("button",{staticClass:"btn btn-primary",on:{click:t.runTests}},[t._v("Run tests")]):s("button",{staticClass:"btn btn-primary",on:{click:t.haltTests}},[t._v("Stop tests")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("table",{staticClass:"table mb-0"},[t._m(1),s("tbody",t._l(t.tests,(function(e){return s("tr",{key:e.id,class:{currTest:e.id===t.currTest}},[s("td",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),s("td",{attrs:{scope:"row"}},[t._v(t._s(e.description))]),s("td",{attrs:{scope:"row"}},[s("ul",{staticClass:"nobull",domProps:{innerHTML:t._s(t.testResultStr(e.expectedRegVals))}})]),s("td",{attrs:{scope:"row"}},[s("ul",{staticClass:"nobull",domProps:{innerHTML:t._s(t.testResultStr(e.actualRegVals))}})]),"Pass"===e.status?s("td",{attrs:{scope:"row"}},[s("check-circle-outline-icon",{staticClass:"text-success"})],1):"Fail"===e.status?s("td",{attrs:{scope:"row"}},[s("alert-circle-outline-icon",{staticClass:"text-danger"})],1):s("td",{attrs:{scope:"row"}})])})),0)])])])])},mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("h4",[t._v("Tests")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Test")]),s("th",{attrs:{scope:"col"}},[t._v("Description")]),s("th",{attrs:{scope:"col"}},[t._v("Expected")]),s("th",{attrs:{scope:"col"}},[t._v("Result")]),s("th",{attrs:{scope:"col"}})])])}],bt=(s("99af"),{name:"Tests",props:{tests:Array,currTest:Number},data:function(){return{}},methods:{runTests:function(){H.$emit("run-tests")},haltTests:function(){H.$emit("halt-tests")},testResultStr:function(t){var e="";for(var s in t)null!==t[s].value&&(e+="<li>Reg ".concat(t[s].id,": ").concat(t[s].value,"</li>"));return e}},components:{CheckCircleOutlineIcon:O["a"],AlertCircleOutlineIcon:R["a"]}}),Ct=bt,_t=(s("5d21"),Object(d["a"])(Ct,ft,mt,!1,null,"0ced5474",null)),yt=_t.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid",attrs:{id:"programGraph"}},[s("div",{staticClass:"row justify-content-between align-items-center"},[t._m(0),s("div",{staticClass:"col-auto"},[s("b-button",{staticClass:"align-middle",attrs:{variant:"primary",type:"button"},on:{click:t.updateLayout}},[t._v("Update layout")])],1)]),s("cytoscape",{ref:"cy",attrs:{config:t.config,preConfig:t.preConfig,afterCreated:t.afterCreated}},t._l(t.elements,(function(t){return s("cy-element",{key:""+t.data.id,attrs:{definition:t}})})),1)],1)},Tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col col-md-6"},[s("h4",[t._v("Graph")])])}],St=(s("a4d3"),s("4de4"),s("e439"),s("dbb4"),s("b64b"),s("d3b7"),s("2fa7")),xt=(s("96cf"),s("b17d")),It=s.n(xt),kt=s("fe22"),Ot=s.n(kt),Rt=s("cc5f"),Pt=s.n(Rt);function jt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function $t(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(s),!0).forEach((function(e){Object(St["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):jt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var Et={name:"ProgramGraph",props:{program:Array,currentStepId:Number},methods:{preConfig:function(t){t("core","dagre")||t.use(It.a),t("core","popper")||t.use(Ot.a),t("core","nodeHtmlLabel")||t.use(Pt.a)},afterCreated:function(){var t,e=arguments;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return t=e.length>0&&void 0!==e[0]?e[0]:null,null!==t?(this.cy=t,console.log("storing cytoscape instance")):(t=this.cy,console.log("loading cytoscape instance")),s.next=4,regeneratorRuntime.awrap(t);case 4:console.log("running layout"),t.nodeHtmlLabel([{query:"node",tpl:function(t){return'<div class="container">\n                                    <div class="row"><div class="col programNodeStep">'.concat(t.id,'</div></div>\n                                    <div class="row"><div class="col programNodeLabel">').concat(t.label,"</div></div>\n                                </div>")}}]),t.layout(this.config.layout).run(),console.log("layout complete");case 8:case"end":return s.stop()}}),null,this)},programToGraph:function(){console.log("running programToGraph()");var t=[];for(var e in this.program){var s={};s.data=$t({},this.program[e]),s.data.label=this.nodeLabel(s.data),t.push(s)}var i=[];for(var r in t){var n=t[r].data;if("inc"===n.instruction||"deb"===n.instruction){var a={data:{id:"".concat(n.id,"-").concat(n.goTo,"g"),source:n.id,target:n.goTo,type:"goTo",label:""}};i.push(a)}if("deb"===n.instruction){var o={data:{id:"".concat(n.id,"-").concat(n.branchTo,"b"),source:n.id,target:n.branchTo,type:"branchTo",label:0}};i.push(o)}}this.elements=[].concat(t,i)},nodeLabel:function(t){return"inc"===t.instruction?"+".concat(t.register):"deb"===t.instruction?"-".concat(t.register):"end"===t.instruction?"end":void 0},updateLayout:function(){this.$refs.cy&&this.$refs.cy.afterCreated()}},created:function(){this.programToGraph()},mounted:function(){var t=this;H.$on("update-graph",(function(){t.programToGraph()})),this.updateLayout()},data:function(){return{elements:[],config:{style:[{selector:"node",style:{"background-color":"blue","text-wrap":"wrap","text-valign":"center","text-halign":"center",color:"white",width:"50px",height:"50px",padding:"50%"}},{selector:"edge",style:{"curve-style":"bezier",width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle",label:"data(label)"}}],layout:{name:"dagre"}}}},components:{},watch:{program:{handler:function(){this.programToGraph()},immediate:!1},elements:function(){this.updateLayout()}}},Mt=Et,Dt=(s("3fcd"),Object(d["a"])(Mt,wt,Tt,!1,null,"5b141d3c",null)),Nt=Dt.exports,Ft=s("7967"),Lt=s("5d25"),Vt={name:"Challenge",data:function(){return{id:null,response:null,title:null,statement:null,program:[],tests:[],registers:[],hint:null,instructions:[{instruction:"inc",description:"Increment register",fields:["instruction","register","goTo"]},{instruction:"deb",description:"Decrement register or branch",fields:["instruction","register","goTo","branchTo"]},{instruction:"end",description:"End",fields:["instruction"]}],currentStepId:1,running:!1,testID:null,rmInterval:null,fields:[{field:"instruction",options:[],optionObject:"instructions",optionField:"instruction"},{field:"register",options:[],optionObject:"registers",optionField:"id"},{field:"goTo",options:[],optionObject:"program",optionField:"id"},{field:"branchTo",options:[],optionObject:"program",optionField:"id"}],programOptions:[],solved:null,statementCollapsed:!1}},methods:{toggleStatement:function(){this.statementCollapsed=!this.statementCollapsed},nextChallengeRoute:function(){var t=parseInt(this.$route.params.id)+1;return"/challenge/".concat(t)},resetRegisters:function(){this.registers.forEach((function(t){t.value=0}))},resetProgram:function(){this.rmInterval&&(this.rmInterval=clearInterval(this.rmInterval)),this.running=!1,this.currentStepId=1},executeProgramStep:function(){var t=this,e=this.program.find((function(e){return e.id===t.currentStepId}));if("end"!==e.instruction)var s=this.registers.findIndex((function(t){return t.id===e.register}));"inc"===e.instruction?(this.registers[s].value++,this.currentStepId=e.goTo):"deb"===e.instruction?0===this.registers[s].value?this.currentStepId=e.branchTo:(this.registers[s].value--,this.currentStepId=e.goTo):"end"===e.instruction&&(this.running=!1,this.rmInterval&&(clearInterval(this.rmInterval),this.rmInterval=null,document.querySelector("#btnStep").disabled=!1),this.testID&&this.testResult())},runRegMachine:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;this.program.length>0&&(this.running=!0,this.rmInterval=setInterval(this.executeProgramStep,e),document.querySelector("#btnStep").disabled=!0)},stepRegMachine:function(){this.executeProgramStep()},pauseRegMachine:function(){this.running=!1,this.rmInterval&&(this.rmInterval=clearInterval(this.rmInterval)),document.querySelector("#btnStep").disabled=!1},runTest:function(t){var e=this;this.resetProgram();var s=this.tests.find((function(e){return e.id===t})),i=function(t){var i=s.initRegVals.findIndex((function(s){return s.id===e.registers[t].id}));e.registers[t].value=i>=0?s.initRegVals[i].value:0};for(var r in this.registers)i(r);this.runRegMachine(null,100)},testResult:function(){var t=this,e=this.tests.find((function(e){return e.id===t.testID})),s=function(s){var i=t.registers.findIndex((function(t){return t.id===e.actualRegVals[s].id}));e.actualRegVals[s].value=t.registers[i].value};for(var i in e.actualRegVals)s(i);this.checkTestStatus(),this.testID++,this.runTests()},checkTestStatus:function(){var t=this,e=this.tests.find((function(e){return e.id===t.testID}));e.status="Pass";var s=function(t){var s=e.expectedRegVals.findIndex((function(s){return s.id===e.actualRegVals[t].id}));e.actualRegVals[t].value!==e.expectedRegVals[s].value&&(e.status="Fail")};for(var i in e.actualRegVals)s(i)},resetTests:function(){for(var t in this.tests)this.tests[t].status=null},runTests:function(){var t=this;if(this.program.length>0){this.testID||(this.testID=1,this.resetTests(),this.disableProgramEdit());var e=this.tests.findIndex((function(e){return e.id===t.testID}));e>=0?(this.testID=this.tests[e].id,this.runTest(this.tests[e].id)):(this.testID=null,this.checkIfSolved(),this.persist())}},haltTests:function(){this.pauseRegMachine(),this.testID=null},checkIfSolved:function(){var t=!1;for(var e in this.tests)"Pass"!==this.tests[e].status&&(t=!0);this.solved=!t},disableProgramEdit:function(){for(var t in this.program)this.program[t].editMode=!1},toggleEdit:function(t){for(var e in this.program)this.program[e].id===t?this.program[e].editMode=!this.program[e].editMode:(this.program[e].editMode=!1,H.$emit("program-updated"))},updateOptions:function(t){for(var e=this,s=function(s){var i=t[s].optionField,r=e[t[s].optionObject];e.fields[s].options=r.map((function(t){return t[i]}))},i=0;i<t.length;i++)s(i)},updateProgram:function(t){var e=this,s=this.program.findIndex((function(e){return e.id===t.id}));if(this.program[s][t.field]=t.value,"instruction"===t.field){var i=function(t){var i=e.instructions.find((function(t){return t.instruction===e.program[s].instruction}));i.fields.find((function(s){return s===e.fields[t].field}))?null===e.program[s][e.fields[t].field]&&(e.program[s][e.fields[t].field]=e.fields[t].options[0]):e.program[s][e.fields[t].field]=null};for(var r in this.fields)i(r)}H.$emit("update-graph")},addStep:function(){var t=1;this.program.length&&(t=this.program[this.program.length-1].id+1);var e={id:t,instruction:"end",register:null,goTo:null,branchTo:null,editable:!0,editMode:!1};this.program.push(e),this.toggleEdit(t)},removeStep:function(){if(this.program.length){var t=this.program[this.program.length-1].id,e=this.program.slice(0,-1);e.findIndex((function(e){return e.goTo===t}))>=0||e.findIndex((function(e){return e.branchTo===t}))>=0?H.$emit("program-cannot-remove-step"):this.program.pop()}},challengeClicked:function(){H.$emit("challenge-click")},updateChallenge:function(t,e){var s=this;this.id=t;var i=JSON.parse(localStorage.challenges),r=i.data.findIndex((function(e){return e.id===t}));if(e||-1===r)k.get("challenge/".concat(this.id)).then((function(t){s.response=t,s.initialiseData(t.data)})).catch((function(t){404===t.response.status&&s.$router.push("/progress")}));else{var n=i.data[r];this.initialiseData(n)}},resetChallenge:function(){this.updateChallenge(this.$route.params.id,!0)},initialiseData:function(t){this.title=t.title,this.statement=t.statement,this.program=t.program,this.tests=t.tests,this.registers=t.registers,this.hint=t.hint,null!==t.solved?this.solved=t.solved:this.solved=null,this.currentStepId=1,this.running=!1,this.testID=null,this.rmInterval=null,this.programOptions=null},persist:function(){var t=this,e=JSON.parse(localStorage.challenges),s=e.data.findIndex((function(e){return e.id===t.id}));s>-1?(e.data[s]=this.stateRecord(),localStorage.challenges=JSON.stringify(e)):(e.data.push(this.stateRecord()),localStorage.challenges=JSON.stringify(e))},stateRecord:function(){var t={};return t["id"]=this.id,t["title"]=this.title,t["statement"]=this.statement,t["program"]=this.program,t["tests"]=this.tests,t["registers"]=this.registers,t["hint"]=this.hint,t["solved"]=this.solved,t}},created:function(){this.updateOptions(this.fields),this.updateChallenge(this.$route.params.id)},mounted:function(){var t=this;H.$on("toggle-edit",(function(e){t.toggleEdit(e)})),H.$on("prog-value-sel",(function(e){t.updateProgram(e)})),H.$on("add-step",(function(){t.addStep()})),H.$on("remove-step",(function(){t.removeStep()})),H.$on("run-tests",(function(){t.runTests()})),H.$on("halt-tests",(function(){t.haltTests()}))},watch:{program:function(){this.updateOptions(this.fields)}},components:{Program:ct,ProgramGraph:Nt,Register:vt,Tests:yt,UnfoldLessHorizontalIcon:Ft["a"],UnfoldMoreHorizontalIcon:Lt["a"]},beforeRouteUpdate:function(t,e,s){this.updateChallenge(t.params.id),s()}},At=Vt,Gt=Object(d["a"])(At,A,G,!1,null,"0ae0cf0c",null),Ht=Gt.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row flex-grow-1 debug2 "},[s("div",{staticClass:"container-fluid d-flex flex-column carousel slide debug",attrs:{id:"lightbox","data-interval":"false"}},[t._m(0),t._m(1),s("div",{staticClass:"row align-items-center flex-grow-1"},[s("div",{staticClass:"col h-100"},[s("div",{staticClass:"carousel-inner container-fluid h-100"},[s("TutorialPage",{attrs:{"is-active":!0}},[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Register machine")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("This site gives you a series of challenges to solve using a register machine, a kind of idealised computer. This is a useful tool to explore how computers work. But first, let's look at what makes up a register machine.")]),s("p",[t._v("This content is based on Daniel Dennett's description of the register machine in "),s("a",{attrs:{href:"https://www.goodreads.com/en/book/show/18378002-intuition-pumps-and-other-tools-for-thinking"}},[t._v(" Intuition Pumps and Other Tools for Thinking")]),t._v(".")])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Registers")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("Register machines have a number of registers, which act as memory for the machine. They can store whole numbers, and each has a unique ID (Reg. 1, Reg. 2, ...).")]),s("p",[t._v("You can think of a register as a bucket into which you can place buttons, with the value of the register being the number of buttons in the bucket. ")]),s("p",[t._v("Here are two registers. Try changing their values.")]),s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("register",{attrs:{"reg-id":1,"reg-value":3}}),s("register",{attrs:{"reg-id":2,"reg-value":4}})],1)])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Processing Unit")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("The register machine also has a processing unit, which is capable of performing three different instructions. It can only execute one instruction at a time.")])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Program")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("A program for the register machine is simply a list of these instructions in a specific order. The register machine will execute this instructions, one-by-one, operating on the values of the registers, to produce some result. ")]),s("program",{attrs:{program:t.program,fields:t.fields,"current-step-id":t.currentStepId,instructions:t.instructions}})],1)]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Instruction 1: Increment")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("The increment instruction adds 1 to the specified register, and then moves to a specified step in the program (the Go-To step).")])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Instruction 2: End")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("As you might have guessed, the End instruction halts execution of the register machine. Without one of these steps in your program, it will keep the register machine running forever!")])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Instruction 3: Decrement-Branch")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("The Decrement-Branch instruction is a bit more involved. If the specified register for that instruction contains a value greater than 0, then the register has its value reduced by 1, and the processing unit moves to the Go-To step specified. If the specified register contains the value 0, then the processing unit moves to the Branch step specified.")]),s("p",[t._v("While this might seem a bit tricky, this is the most useful step, because it allows our programs to change behaviour based on the current values of the registers. You'll see how this works as you solve the challenges.")])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Operating the register machine")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("Now that you know what makes up a register machine, let's look at how we can run our programs")]),s("p",[t._v("The register machine has three controls:")]),s("ul",[s("li",[t._v("Run (pause): this executes the program until completion, and can be clicked again to pause execution ")]),s("li",[t._v("Step: this executes the next instruction in the program. This is useful if you want to carefully examine the behaviour of the register machine - very useful for locating bugs! ")]),s("li",[t._v("Reset: this takes the register machine back to the first step")])])])]),s("TutorialPage",[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("Register machine")]),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[t._v("Now you know how the basics, let's get started!")]),s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/progress"}},[t._v("Get started")])],1)])],1)])]),t._m(2)])])},Bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{staticClass:"row carousel-indicators d-none d-sm-flex"},[s("li",{staticClass:"active",attrs:{"data-target":"#lightbox","data-slide-to":"0"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"1"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"2"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"3"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"4"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"5"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"6"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"7"}}),s("li",{attrs:{"data-target":"#lightbox","data-slide-to":"8"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"carousel-control-prev",attrs:{href:"#lightbox",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a",{staticClass:"carousel-control-next",attrs:{href:"#lightbox",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon text-dark",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])}],Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"carousel-item h-100 w-100 container-fluid",class:{active:t.isActive}},[s("div",{staticClass:"row justify-content-center align-items-center h-100"},[s("div",{staticClass:"col-10 col-lg-6 text-center"},[s("h3",[t._t("header")],2),t._t("content")],2)])])},qt=[],zt={name:"TutorialPage",props:{isActive:{type:Boolean,default:!1}}},Yt=zt,Wt=Object(d["a"])(Yt,Ut,qt,!1,null,"65744841",null),Zt=Wt.exports,Xt={name:"Tutorial",components:{Register:vt,TutorialPage:Zt,Program:ct},data:function(){return{program:[{id:1,goTo:2,branchTo:3,editMode:!1,editable:!1,register:1,instruction:"deb"},{id:2,goTo:1,branchTo:null,editMode:!1,editable:!1,register:2,instruction:"inc"},{id:3,goTo:null,branchTo:null,editMode:!1,editable:!1,register:null,instruction:"end"}],fields:[{field:"instruction",options:["inc","deb","end"],optionObject:"instructions",optionField:"instruction"},{field:"register",options:[1,2,3,4],optionObject:"registers",optionField:"id"},{field:"goTo",options:[1,2,3],optionObject:"program",optionField:"id"},{field:"branchTo",options:[1,2,3],optionObject:"program",optionField:"id"}],currentStepId:1,instructions:[]}}},Kt=Xt,Qt=Object(d["a"])(Kt,Jt,Bt,!1,null,"2998ffa6",null),te=Qt.exports;i["default"].use(g["a"]);var ee=new g["a"]({routes:[{path:"/",component:_},{path:"/progress",component:E},{path:"/challenge",component:Ht},{path:"/challenge/:id",component:Ht},{path:"/playground",component:V},{path:"/tutorial",component:te}]});i["default"].config.productionTip=!1,i["default"].use(a.a),i["default"].use(r["a"]),new i["default"]({router:ee,el:"#app",render:function(t){return t(h)},mounted:function(){if(localStorage.challenges)try{JSON.parse(localStorage.getItem("challenges"))}catch(t){localStorage.removeItem("challenges"),localStorage.challenges=JSON.stringify({data:[]})}else localStorage.challenges=JSON.stringify({data:[]})}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var i=s("9c0c"),r=s.n(i);r.a},"5d21":function(t,e,s){"use strict";var i=s("4e38"),r=s.n(i);r.a},"9c0c":function(t,e,s){},aa15:function(t,e,s){}});
//# sourceMappingURL=app.cc3146a6.js.map